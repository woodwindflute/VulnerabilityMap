<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Vulnerability Map - 師大防災教育 Final Project</title>
	<link rel="icon" href="favicon.ico" type="image/x-icon"/>
	<link rel="stylesheet" href="style.css" />
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

	<!-- Add code to initialize the tree when the document is loaded: -->
	<script src="//d3js.org/d3.v3.min.js"></script>
	<script type="text/javascript">
		var sexList = [1/95.03,1/90.29,1/97.6,1/95.97,1/98.86,1/96.74,1/101.06,1/103.96,1/106.15,1/102.94,1/104.08,1/106.7,1/107.53,1/103.27,1/104.7,1/101.59,1/105.53,1/99.17,1/97.41,1/92.86,1/98.34,1/136.92]
		var popuList = [1946.61,9126.87,1868.59,1270.70,845.48,924.21,209.49,406.65,293.98,1159.01,116.79,514.47,256.43,287.76,60.47,68.9,845.18,2723.18,4344.33,4380.20,931.68,485.52]
		var raiseList = [40.03,50.36,39.45,39.99,41.95,42.16,42.83,41.57,42.7,43.09,43.72,44.31,43.45,41.98,42.55,43.7,39.24,41.13,43.72,43.58,33,31.94]
		var incomeMiddleList = [1/65.8,1/77.4,1/68.8,1/64.3,1/64.9,1/65.4,1/62,1/78.8,1/64.5,1/59.9,1/59,1/63.1,1/61.2,1/61.7,1/61.5,1/60.5,1/74.1,1/62.2,1/82.2,1/65.9,1/74.2,1/83.6]
		var incomeVarList = [18.1,65.6,14.6,27.6,22.8,15.8,11,20,11.6,23.1,13.3,32.1,9.4,10,12.3,9.5,8.8,11.7,23.7,11,9.6,7.5]
		var lowShockResList = [28.43,47.51,24.17,25.39,34.22,35.14,35.59,24.19,40.44,42.95,41.89,48.18,47.07,41.93,47.49,43.56,51.86,32.44,23.58,34.12,25.6,51.63]
		var sickBedList = [1/14496,1/19756,1/11812,1/18793,1/9936,1/17696,1/3463,1/3039,1/3017,1/7459,1/3090,1/3319,1/3030,1/5002,1/1268,1/4134,1/501,1/2375,1/2390,1/3519,1/304,1/43]
		var fireAgencyList = [1/2446,1/1821,1/1647,1/1720,1/1177,1/1536,1/342,1/425,1/514,1/707,1/434,1/492,1/432,1/605,1/380,1/370,1/190,1/281,1/302,1/279,1/157,1/48]

		document.addEventListener('DOMContentLoaded', function() {
  			var popularity = document.getElementById('popularity');
			var sex = document.getElementById('sex');
			var raise = document.getElementById('raise');
			var incomeM = document.getElementById('incomeM');
			var incomeV = document.getElementById('incomeV');
			var lowShock = document.getElementById('lowShock');
			var sickBed = document.getElementById('sickBed');
			var fireAgency = document.getElementById('fireAgency');

  			popularity.addEventListener('change', function() {
  			  if (popularity.checked) {
				$("[name=contentFrame]")[0].contentWindow.changeColor(popuList);
  			  }
			  else {
				$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
			  }
  			});
			sex.addEventListener('change', function(){
				if (sex.checked) {
					$("[name=contentFrame]")[0].contentWindow.changeColor(sexList);
  				}
				else {
					$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
				}
			})
			raise.addEventListener('change', function() {
  			  if (raise.checked) {
				$("[name=contentFrame]")[0].contentWindow.changeColor(raiseList);
  			  }
			  else {
				$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
			  }
  			});
			  incomeM.addEventListener('change', function(){
				if (incomeM.checked) {
					$("[name=contentFrame]")[0].contentWindow.changeColor(incomeMiddleList);
  				}
				else {
					$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
				}
			})
			incomeV.addEventListener('change', function() {
  			  if (incomeV.checked) {
				$("[name=contentFrame]")[0].contentWindow.changeColor(incomeVarList);
  			  }
			  else {
				$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
			  }
  			});
			  lowShock.addEventListener('change', function(){
				if (lowShock.checked) {
					$("[name=contentFrame]")[0].contentWindow.changeColor(lowShockResList);
  				}
				else {
					$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
				}
			})
			sickBed.addEventListener('change', function() {
  			  if (sickBed.checked) {
				$("[name=contentFrame]")[0].contentWindow.changeColor(sickBedList);
  			  }
			  else {
				$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
			  }
  			});
			  fireAgency.addEventListener('change', function(){
				if (fireAgency.checked) {
					$("[name=contentFrame]")[0].contentWindow.changeColor(fireAgencyList);
  				}
				else {
					$("[name=contentFrame]")[0].contentWindow.resetLayerStyle();
				}
			})
		});
	</script>
</head>
<body class="example">
	<h1>結合脆弱性地圖之臺灣地震動分布評估系統</h1>
	<div class="row">
		<div class="column">
			
			<div>
				脆弱性變量:
			</div>
			<br>
			<li class="expanded folder">
				<input type="checkbox" id="popularity">
				<label for="popularity">人口密度</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="sex">
				<label for="sex">性別比</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="raise">
				<label for="raise">扶養比</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="incomeM">
				<label for="incomeM">所得中位數</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="incomeV">
				<label for="incomeV">所得標準差</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="lowShock">
				<label for="lowShock">低耐震建物比例</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="sickBed">
				<label for="sickBed">醫院病床數</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="fireAgency">
				<label for="fireAgency">消防單位</label>
  				<br>
			</li>
			<li class="expanded folder">
				<input type="checkbox" id="hazard">
				<label for="hazard">地震危害度</label>
				<select>
					<option value="volvo">(未選擇)</option>
					<option value="volvo">2016 高雄美濃地震</option>
					<option value="volvo">918 池上地震</option>
					<option value="volvo">花蓮地震</option>
				</select>
		</div>
		<div class="column">
			<iframe src="leaflet.html" name="contentFrame" width="200%" height="500"
					scrolling="yes" marginheight="0" marginwidth="10" frameborder="0">
			  <p>Your browser does not support iframes</p>
			</iframe>
		</div>
	</div>


	<!-- Start_Exclude: This block is not part of the sample code -->
	<hr>
	<p align="center">
		Created by Hanyu.
	</p>
	<pre id="sourceCode" class="prettyprint" style="display:none"></pre>
	<!-- End_Exclude -->
</body>
</html>